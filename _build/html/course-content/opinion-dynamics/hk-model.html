
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hegslemann Krause Model &#8212; Computer Simulations for PPE</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Computer Simulations for PPE</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Course Overview
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Python Basics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/introduction.html">
   Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/classes.html">
   Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/scientific-computing.html">
   Scientific Computing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/networks.html">
   Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../python-basics/mesa.html">
   Mesa
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Schelling Segregation Model
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../schelling/01-schelling.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../schelling/01a-schelling-implementation.html">
   Implementation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Game Theory
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../game-theory/02a-intro-game-theory.html">
   Introduciton
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../game-theory/02b-games-local-interaction.html">
   Games on a Network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../game-theory/02c-divide-the-dollar.html">
   Justice and Bargaining
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Belief Dynamics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/hk-model.html">
   Hegslemann Krause Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/cjt.html">
   Condorcet Jury Theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/testimony.html">
   Learning from Testimony
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/epistemic-networks.html">
   Epistemic Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../belief-dynamics/polarization.html">
   Polarization
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Preference Dynamics and Voting
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../preference-aggregation/overview.html">
   Overview
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/course-content/opinion-dynamics/hk-model.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/epacuit/ppe-simulations"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/epacuit/ppe-simulations/issues/new?title=Issue%20on%20page%20%2Fcourse-content/opinion-dynamics/hk-model.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/epacuit/ppe-simulations/blob/master/course-content/opinion-dynamics/hk-model.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hk-model">
   HK Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hk-model-with-noise">
   HK Model  with noise
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hk-model-with-noise-and-reputation">
   HK Model with noise and reputation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-modifications-of-the-hk-model">
   Further modifications of the HK model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-pooling-functions">
   Other Pooling Functions
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="hegslemann-krause-model">
<h1>Hegslemann Krause Model<a class="headerlink" href="#hegslemann-krause-model" title="Permalink to this headline">¶</a></h1>
<p><span class="xref myst">Introductory slides</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_pdf</span> <span class="kn">import</span> <span class="n">PdfPages</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="kn">import</span> <span class="n">MaxNLocator</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mesa</span> <span class="kn">import</span> <span class="n">Agent</span><span class="p">,</span> <span class="n">Model</span>
<span class="kn">from</span> <span class="nn">mesa.time</span> <span class="kn">import</span> <span class="n">RandomActivation</span><span class="p">,</span> <span class="n">SimultaneousActivation</span>
<span class="kn">from</span> <span class="nn">mesa.space</span> <span class="kn">import</span> <span class="n">SingleGrid</span>
<span class="kn">from</span> <span class="nn">mesa.datacollection</span> <span class="kn">import</span> <span class="n">DataCollector</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hk-model">
<h2>HK Model<a class="headerlink" href="#hk-model" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(T\in [0, 1]\)</span> is the truth</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau\in [0, 1]\)</span> is the truth seeking</p></li>
<li><p><span class="math notranslate nohighlight">\(x_{i,t}\in [0, 1]\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s opinion at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon\in [0, 1]\)</span> is the agent’s bounded confidence parameter</p></li>
<li><p><span class="math notranslate nohighlight">\(N(i,t)\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s confidants at time <span class="math notranslate nohighlight">\(t\)</span>: <span class="math notranslate nohighlight">\(N(i,t)=\{j\mid |x_{i,t} - x_{j,t}| &lt; \epsilon\}\)</span></p></li>
</ol>
<div class="math notranslate nohighlight">
\[x_{i,t+1} = \tau \times T + (1-\tau) * \frac{\sum_{j\in N(i,t)} x_{j,t}}{|N(i,t)|}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Expert</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_id</span><span class="p">,</span>  <span class="n">model</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unique_id</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
    
    
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>
                
    <span class="k">def</span> <span class="nf">update_asynch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="c1">#self.old_opinion = self.opinion</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DeliberationModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_experts</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">num_experts</span> <span class="o">=</span> <span class="n">num_experts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth</span> <span class="o">=</span> <span class="n">truth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span> <span class="o">=</span> <span class="n">simultaneous_update</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">RandomActivation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        
        <span class="c1"># Set up agents</span>
        <span class="n">agent_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_experts</span><span class="p">):</span> 
            <span class="n">init_opinion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">Expert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datacollector</span> <span class="o">=</span> <span class="n">DataCollector</span><span class="p">(</span>
            <span class="n">agent_reporters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;opinion&quot;</span><span class="p">:</span> <span class="s2">&quot;opinion&quot;</span><span class="p">})</span>
        
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span><span class="p">:</span> 
                
                <span class="n">e</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> 
                <span class="n">e</span><span class="o">.</span><span class="n">update_asynch</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_agents</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">conf</span> <span class="o">=</span> <span class="mf">0.05</span> <span class="c1">#  0.2, 0.15,   0.3, 0.25</span>
<span class="n">truth_seeking</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">truth</span> <span class="o">=</span> <span class="mf">0.7</span>

<span class="n">m_simult</span> <span class="o">=</span> <span class="n">DeliberationModel</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">)</span>
<span class="n">m_async</span> <span class="o">=</span> <span class="n">DeliberationModel</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="n">num_trials</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">expert_opinions</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
<span class="n">expert_opinions_async</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
<span class="k">for</span> <span class="n">num_trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> 
    <span class="n">m_simult</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
    
    <span class="n">m_async</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">expert_opinions_async</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">expert_opinions</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]))</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/hk-model_6_0.png" src="../../_images/hk-model_6_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">expert_opinions_async</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]))</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/hk-model_7_01.png" src="../../_images/hk-model_7_01.png" />
</div>
</div>
</div>
<div class="section" id="hk-model-with-noise">
<h2>HK Model  with noise<a class="headerlink" href="#hk-model-with-noise" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(T\in [0, 1]\)</span> is the truth</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau\in [0, 1]\)</span> is the truth seeking</p></li>
<li><p><span class="math notranslate nohighlight">\(x_{i,t}\in [0, 1]\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s opinion at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon\in [0, 1]\)</span> is the agent’s bounded confidence parameter</p></li>
<li><p><span class="math notranslate nohighlight">\(N(i,t)\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s confidants at time <span class="math notranslate nohighlight">\(t\)</span>: <span class="math notranslate nohighlight">\(N(i,t)=\{j\mid |x_{i,t} - x_{j,t}| &lt; \epsilon\}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\nu\)</span> is the bound on the noise</p></li>
</ol>
<div class="math notranslate nohighlight">
\[x_{i,t+1} = \tau \times (T + \mathrm{rnd}([-\nu, \nu])) + (1-\tau) * \frac{\sum_{j\in N(i,t)} x_{j,t}}{|N(i,t)|}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathrm{rnd}([-\nu, \nu])\)</span> is a number drawn from a uniform distribution over the interval <span class="math notranslate nohighlight">\([-\nu, \nu]\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Expert</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_id</span><span class="p">,</span>  <span class="n">model</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unique_id</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span> <span class="c1"># confidence level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
    
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                              <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">update_with_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_with_noisy_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="n">noise</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

                
    <span class="k">def</span> <span class="nf">update_with_truth_seeking_asynch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="c1">#self.old_opinion = self.opinion</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DeliberationModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_experts</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">num_experts</span> <span class="o">=</span> <span class="n">num_experts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth</span> <span class="o">=</span> <span class="n">truth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span> <span class="o">=</span> <span class="n">simultaneous_update</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">RandomActivation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        
        <span class="c1"># Set up agents</span>
        <span class="n">agent_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_experts</span><span class="p">):</span> 
            
            <span class="n">init_opinion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">Expert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datacollector</span> <span class="o">=</span> <span class="n">DataCollector</span><span class="p">(</span>
            <span class="n">agent_reporters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;opinion&quot;</span><span class="p">:</span> <span class="s2">&quot;opinion&quot;</span><span class="p">})</span>
        
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span><span class="p">:</span> 
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">e</span><span class="o">.</span><span class="n">update_with_noisy_truth_seeking</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span> 
                    <span class="n">e</span><span class="o">.</span><span class="n">update_with_truth_seeking</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> 
                <span class="n">e</span><span class="o">.</span><span class="n">update_with_truth_seeking_asynch</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>


<span class="k">def</span> <span class="nf">run_hk_sim</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">num_agents</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">noise</span><span class="p">):</span>
    <span class="n">m_simult</span> <span class="o">=</span> <span class="n">DeliberationModel</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span><span class="p">)</span>
    <span class="n">m_async</span> <span class="o">=</span> <span class="n">DeliberationModel</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    
    <span class="n">expert_opinions</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="n">expert_opinions_async</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="k">for</span> <span class="n">num_trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> 
        <span class="n">m_simult</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
            <span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>

        <span class="n">m_async</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
            <span class="n">expert_opinions_async</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
        
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
        
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>   
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Simultaneous Updating&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions_async</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>    
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Asynchronous Updating&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>



<span class="n">interact_manual</span><span class="p">(</span><span class="n">run_hk_sim</span><span class="p">,</span> 
         <span class="n">num_trials</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Trials:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">num_agents</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Experts:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">conf</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Conf:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
         <span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth Seeking:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
        <span class="n">truth</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span> 
        <span class="n">noise</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Noise:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">));</span>

         
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "fcc63b4a88474fe092d7a916a478754f", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</div>
<div class="section" id="hk-model-with-noise-and-reputation">
<h2>HK Model with noise and reputation<a class="headerlink" href="#hk-model-with-noise-and-reputation" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(T\in [0, 1]\)</span> is the truth</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau\in [0, 1]\)</span> is the truth seeking</p></li>
<li><p><span class="math notranslate nohighlight">\(x_{i,t}\in [0, 1]\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s opinion at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon\in [0, 1]\)</span> is the agent’s bounded confidence parameter</p></li>
<li><p><span class="math notranslate nohighlight">\(N(i,t)\)</span>: agent <span class="math notranslate nohighlight">\(i\)</span>’s confidants at time <span class="math notranslate nohighlight">\(t\)</span>: <span class="math notranslate nohighlight">\(N(i,t)=\{j\mid |x_{i,t} - x_{j,t}| &lt; \epsilon\}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\nu\)</span> is the bound on the noise</p></li>
<li><p>For each <span class="math notranslate nohighlight">\(j\)</span>, <span class="math notranslate nohighlight">\(w_j\in [0, 1]\)</span> is the reputation of agent <span class="math notranslate nohighlight">\(j\)</span>, where <span class="math notranslate nohighlight">\(\sum_j w_j = 1\)</span></p></li>
</ol>
<div class="math notranslate nohighlight">
\[x_{i,t+1} = \tau \times (T + \mathrm{rnd}([-\nu, \nu])) + (1-\tau) * \frac{\sum_{j\in N(i,t)} x_{j,t}\times w_j}{\sum_j w_j}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathrm{rnd}([-\nu, \nu])\)</span> is a number drawn from a uniform distribution over the interval <span class="math notranslate nohighlight">\([-\nu, \nu]\)</span>.</p>
</div>
<div class="section" id="further-modifications-of-the-hk-model">
<h2>Further modifications of the HK model<a class="headerlink" href="#further-modifications-of-the-hk-model" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>All of the  experts always interact with every other expert.  That is, they are supposed to know, at any time, the beliefs of all the other agents.</p></li>
<li><p>Learning from the world is a black box.</p></li>
<li><p>There is no strategizing or misinformation.</p></li>
<li><p>Experts are assumed to have beliefs about a single proposition. What happens when agents have beliefs (either qualitative or quantitative) about multiple propositions (that are possibly logically connected)?</p></li>
<li><p>What is the aim of deliberation?  Is it to only reach consensus?  Or do we also want accuracy?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Expert</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_id</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unique_id</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span> <span class="c1"># confidence level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">direction</span>
    
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">nbhds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">get_neighbors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">moore</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        
        <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">nbhds</span> 
                               <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_with_noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">nbhds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">get_neighbors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">moore</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        
        <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">nbhds</span> 
                               <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="n">noise</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="c1"># move to a new cell</span>
        
        <span class="n">nbhds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">get_neighborhood</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">moore</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">include_center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">is_cell_empty</span><span class="p">(</span><span class="n">nbhds</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">move_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nbhds</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nbhds</span><span class="p">)))</span>

<span class="k">class</span> <span class="nc">DeliberationModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">num_experts</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        
        
        <span class="bp">self</span><span class="o">.</span><span class="n">num_experts</span> <span class="o">=</span> <span class="n">num_experts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth</span> <span class="o">=</span> <span class="n">truth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span> <span class="o">=</span> <span class="n">simultaneous_update</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">SingleGrid</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">torus</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">RandomActivation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        
        <span class="c1"># Set up agents</span>
        <span class="n">agent_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_experts</span><span class="p">):</span> 
            
            <span class="n">init_opinion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">find_empty</span><span class="p">()</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">get_neighborhood</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">moore</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">include_center</span><span class="o">=</span><span class="kc">False</span><span class="p">))))</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">Expert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datacollector</span> <span class="o">=</span> <span class="n">DataCollector</span><span class="p">(</span>
            <span class="n">agent_reporters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;opinion&quot;</span><span class="p">:</span> <span class="s2">&quot;opinion&quot;</span><span class="p">})</span>
        
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
                
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">e</span><span class="o">.</span><span class="n">update_with_noise</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> 
                <span class="n">e</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">e</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span>

<span class="n">num_agents</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">conf</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1">#  0.2, 0.15,   0.3, 0.25</span>
<span class="n">truth_seeking</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">truth</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">noise</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">DeliberationModel</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">num_agents</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">noise</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_trials</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">expert_opinions</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> 
    <span class="n">m</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]))</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>        
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/hk-model_15_01.png" src="../../_images/hk-model_15_01.png" />
</div>
</div>
</div>
<div class="section" id="other-pooling-functions">
<h2>Other Pooling Functions<a class="headerlink" href="#other-pooling-functions" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>

<span class="k">def</span> <span class="nf">linear_pool</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Linear&quot;&quot;&quot;</span>
    
    <span class="n">_weights</span> <span class="o">=</span>  <span class="n">weights</span> <span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">probs</span><span class="p">))</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">probs</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">p</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">_weights</span><span class="p">,</span><span class="n">probs</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">geometric_pool</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Geometric&quot;&quot;&quot;</span>
    
    <span class="n">_weights</span> <span class="o">=</span>  <span class="n">weights</span> <span class="k">if</span> <span class="n">weights</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">probs</span><span class="p">))</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">probs</span><span class="p">]</span>
    
    <span class="n">c</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">p</span><span class="o">**</span><span class="n">w</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span><span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">_weights</span><span class="p">)])</span>  <span class="o">+</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span><span class="o">**</span><span class="n">w</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span><span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">_weights</span><span class="p">)])</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">p</span><span class="o">**</span><span class="n">w</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span><span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">_weights</span><span class="p">)]))</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">multiplicative_pool</span><span class="p">(</span><span class="n">probs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Multiplicative&quot;&quot;&quot;</span>
    
    <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">probs</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">geometric_pool</span><span class="p">(</span><span class="n">probs</span><span class="p">,</span><span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>

<span class="n">pooling_methods</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Linear&quot;</span><span class="p">:</span> <span class="n">linear_pool</span><span class="p">,</span>
    <span class="s2">&quot;Geometric&quot;</span><span class="p">:</span> <span class="n">geometric_pool</span><span class="p">,</span>
    <span class="s2">&quot;Multiplicative&quot;</span><span class="p">:</span> <span class="n">multiplicative_pool</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Expert</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_id</span><span class="p">,</span>  <span class="n">model</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">pooling_method</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unique_id</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="n">init_opinion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span> <span class="c1"># confidence level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span> <span class="o">=</span> <span class="n">pooling_method</span>
    
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                              <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">update_with_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_with_noisy_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="n">noise</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

                
    <span class="k">def</span> <span class="nf">update_with_truth_seeking_asynch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="c1">#self.old_opinion = self.opinion</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">opinion</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                  <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DeliberationModelMultiplePooling</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_experts</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pooling_method</span> <span class="o">=</span> <span class="n">linear_pool</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">num_experts</span> <span class="o">=</span> <span class="n">num_experts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth</span> <span class="o">=</span> <span class="n">truth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span> <span class="o">=</span> <span class="n">simultaneous_update</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span> <span class="o">=</span> <span class="n">pooling_method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">RandomActivation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        
        <span class="c1"># Set up agents</span>
        <span class="n">agent_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_experts</span><span class="p">):</span> 
            
            <span class="n">init_opinion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">Expert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pooling_method</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datacollector</span> <span class="o">=</span> <span class="n">DataCollector</span><span class="p">(</span>
            <span class="n">agent_reporters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;opinion&quot;</span><span class="p">:</span> <span class="s2">&quot;opinion&quot;</span><span class="p">})</span>
        
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span><span class="p">:</span> 
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">e</span><span class="o">.</span><span class="n">update_with_noisy_truth_seeking</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span> 
                    <span class="n">e</span><span class="o">.</span><span class="n">update_with_truth_seeking</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> 
                <span class="n">e</span><span class="o">.</span><span class="n">update_with_truth_seeking_asynch</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_hk_sim2</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">num_agents</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">noise</span><span class="p">,</span> <span class="n">pooling_method_str</span><span class="p">):</span>
    
    <span class="n">m_simult</span> <span class="o">=</span> <span class="n">DeliberationModelMultiplePooling</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> 
                                                <span class="n">truth</span><span class="p">,</span> 
                                                <span class="n">conf</span><span class="p">,</span> 
                                                <span class="n">truth_seeking</span><span class="p">,</span> 
                                                <span class="n">simultaneous_update</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
                                                <span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span><span class="p">,</span> 
                                                <span class="n">pooling_method</span> <span class="o">=</span> <span class="n">pooling_methods</span><span class="p">[</span><span class="n">pooling_method_str</span><span class="p">])</span>
    <span class="n">m_async</span> <span class="o">=</span> <span class="n">DeliberationModelMultiplePooling</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> 
                                               <span class="n">truth</span><span class="p">,</span> 
                                               <span class="n">conf</span><span class="p">,</span> 
                                               <span class="n">truth_seeking</span><span class="p">,</span> 
                                               <span class="n">simultaneous_update</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                                               <span class="n">pooling_method</span> <span class="o">=</span> <span class="n">pooling_methods</span><span class="p">[</span><span class="n">pooling_method_str</span><span class="p">])</span>
    
    <span class="n">expert_opinions</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="n">expert_opinions_async</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="k">for</span> <span class="n">num_trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> 
        <span class="n">m_simult</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
            <span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>

        <span class="n">m_async</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
            <span class="n">expert_opinions_async</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">)</span>
        
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
        
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_simult</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>   
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Simultaneous Updating&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m_async</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions_async</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>    
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Asynchronous Updating&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>



<span class="n">interact_manual</span><span class="p">(</span><span class="n">run_hk_sim2</span><span class="p">,</span> 
         <span class="n">num_trials</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Trials:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">num_agents</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Experts:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">conf</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Conf:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
         <span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth Seeking:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
        <span class="n">truth</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span> 
        <span class="n">noise</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Noise:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
         <span class="n">pooling_method_str</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span>
             <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="s2">&quot;Geometric&quot;</span><span class="p">,</span> <span class="s2">&quot;Multiplicative&quot;</span><span class="p">],</span>
             <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Pooling Method: &quot;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="p">));</span>

         
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "f0872abd3ac242b19088176952a17318", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">copy</span> 
<span class="k">class</span> <span class="nc">Expert2</span><span class="p">(</span><span class="n">Agent</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unique_id</span><span class="p">,</span>  <span class="n">model</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">pooling_methods</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unique_id</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span> <span class="o">=</span> <span class="p">{</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">:</span> <span class="n">init_opinion</span> <span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">pooling_methods</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span> <span class="o">=</span> <span class="p">{</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">:</span> <span class="n">init_opinion</span> <span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="n">pooling_methods</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span> <span class="c1"># confidence level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pooling_methods</span> <span class="o">=</span> <span class="n">pooling_methods</span>
    
    
    <span class="k">def</span> <span class="nf">update_with_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pooling_methods</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
                <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>

                <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                      <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span> <span class="n">pm</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">update_with_noisy_truth_seeking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">pm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pooling_methods</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
                <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>

                <span class="n">confidants_opinions</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> 
                                      <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">old_opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="n">pm</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">truth</span> <span class="o">+</span> <span class="n">noise</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span><span class="p">)</span><span class="o">*</span><span class="n">pm</span><span class="p">(</span><span class="n">confidants_opinions</span><span class="p">)</span>

                
<span class="k">class</span> <span class="nc">DeliberationModelMultiplePooling2</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_experts</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">simultaneous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pooling_methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">linear_pool</span><span class="p">]):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">num_experts</span> <span class="o">=</span> <span class="n">num_experts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth</span> <span class="o">=</span> <span class="n">truth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">truth_seeking</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conf</span> <span class="o">=</span> <span class="n">conf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simultaneous_update</span> <span class="o">=</span> <span class="n">simultaneous_update</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pooling_methods</span> <span class="o">=</span> <span class="n">pooling_methods</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="o">=</span> <span class="n">RandomActivation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        
        <span class="c1"># Set up agents</span>
        <span class="n">agent_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_experts</span><span class="p">):</span> 
            
            <span class="n">init_opinion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">Expert2</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">init_opinion</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pooling_methods</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span>
             
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">noise</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">e</span><span class="o">.</span><span class="n">update_with_noisy_truth_seeking</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> 
                <span class="n">e</span><span class="o">.</span><span class="n">update_with_truth_seeking</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_hk_sim3</span><span class="p">(</span><span class="n">num_trials</span><span class="p">,</span> <span class="n">num_agents</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">truth_seeking</span><span class="p">,</span> <span class="n">truth</span><span class="p">,</span> <span class="n">noise</span><span class="p">):</span>
    
    <span class="n">m</span> <span class="o">=</span> <span class="n">DeliberationModelMultiplePooling2</span><span class="p">(</span><span class="n">num_agents</span><span class="p">,</span> 
                                          <span class="n">truth</span><span class="p">,</span> 
                                          <span class="n">conf</span><span class="p">,</span> 
                                          <span class="n">truth_seeking</span><span class="p">,</span>
                                          <span class="n">noise</span> <span class="o">=</span> <span class="n">noise</span><span class="p">,</span>
                                          <span class="n">pooling_methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">linear_pool</span><span class="p">,</span> <span class="n">geometric_pool</span><span class="p">,</span> <span class="n">multiplicative_pool</span><span class="p">])</span>
    
    <span class="n">expert_opinions_linear</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Linear&quot;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="n">expert_opinions_geometric</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Geometric&quot;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="n">expert_opinions_mult</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">:</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Multiplicative&quot;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span> <span class="p">}</span>
    <span class="k">for</span> <span class="n">num_trials</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_trials</span><span class="p">):</span> 
        <span class="n">m</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
            <span class="n">expert_opinions_linear</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Linear&quot;</span><span class="p">])</span>
            <span class="n">expert_opinions_geometric</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Geometric&quot;</span><span class="p">])</span>
            <span class="n">expert_opinions_mult</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">opinion</span><span class="p">[</span><span class="s2">&quot;Multiplicative&quot;</span><span class="p">])</span>
    
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
        
    <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MaxNLocator</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions_linear</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>   
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Linear Pooling&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions_geometric</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>   
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Geometric Pooling&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">agents</span><span class="p">:</span> 
        <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">expert_opinions_mult</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">unique_id</span><span class="p">])</span>   
    <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Multiplicative Pooling&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


<span class="n">interact_manual</span><span class="p">(</span><span class="n">run_hk_sim3</span><span class="p">,</span> 
         <span class="n">num_trials</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Trials:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">num_agents</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Num Experts:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span>
         <span class="p">),</span>
         <span class="n">conf</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Conf:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
         <span class="n">truth_seeking</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth Seeking:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span>
        <span class="n">truth</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Truth:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">),</span> 
        <span class="n">noise</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
             <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">min</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
             <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
             <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
             <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Noise:&#39;</span><span class="p">,</span>
             <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
             <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span>
         <span class="p">));</span>

         
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3d3a7eaa104b40bd9e5b9d0dc7081170", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<p>In an ideal situation, the discussion will elicit from each member of the group not only their judgements, but also their reasons, arguments and evidence that back up these judgements. Through discussion and debate, the group can sort through all of the evidence and arguments leading to a more informed solution.</p>
<p>A common criticism of unstructured group discussion is that it enhances cognitive errors rather than mitigates them.</p>
<p><strong>Bias against the minority</strong>: There is a tendency for groups to ignore isolated, minority or lower-status members.</p>
<p><strong>Anchoring effect</strong>: There is a tendency to rely too heavily, or “anchor”, a judgement on one piece of information (for example, the first announced judgement, the judgement of the most senior person in the group, or the judgement of the loudest person in the group).</p>
<p><strong>Common knowledge effect</strong>: Information held by all members of the group has more influence on the final decision than information held by only a few members of the group.  So, if everybody in  the group has some information, then it is more valuable than the information of just a few members.</p>
<p>What is the best form for social influence to take? Is it better to have more rather than less social influence? Are all policies which aim to increase the amount of interaction over a particular issue likely to be successful in their aims?</p>
<p>K. Zollman, (2013), Network epistemology: Communication in epistemic communities, Philosophy
Compass, 8 (1), 15  - 27.</p>
<p>V. Bala  and S. Goyal (1998), Learning from neighbors}{Review of Economic Studies, 65 (3), 595 - 621.</p>
<p>B. Golub and M. O. Jackson (2010), Naive learning in social networks and the wisdom of crowds, American Economic Journal: Microeconomics, pages 112 - 149.</p>
</div>
</div>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"00b4a2ea7b92411e99e3ea9fe8b6d3ff": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0988f2db1cbf4c8ebdd9f8b6cc15beb7": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0b0ce216dcf1413287d5a60e0e26c53a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0d1d1a64a1d04684b1c487c8c6516946": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0d24fa6d9de745d3b40ca652690cc066": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "1871daae9b9c485685f5034038193843": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Experts:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_78e05fac8be04b358c631b8794170ac5", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_1eea333362824f58bb185ff594e3a583", "value": 50}}, "1a3d22324bd34e20bcaff3ff9ffee328": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Trials:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_f2e99c7192234d6fb926a4edfe885b18", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 5, "style": "IPY_MODEL_9f023ed7a50a45448684fda9cfcc737e", "value": 20}}, "1eea333362824f58bb185ff594e3a583": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "1fdc140eefbd45ee86c8d900a97431cd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Trials:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_6d2b531f5b204f079dbfd82dc11644e9", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 5, "style": "IPY_MODEL_85a9860eb84d46a5b6eb15fad48359ce", "value": 20}}, "2198a074970a4ee3a586730bc103e9fd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "2848be7009644f2c96fb933ccaaa7465": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Experts:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_e607259b1dc047dbade2a63d6cff6b16", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_9cc09351b2b44802887dfeeb561d07ab", "value": 50}}, "3d3a7eaa104b40bd9e5b9d0dc7081170": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_1fdc140eefbd45ee86c8d900a97431cd", "IPY_MODEL_1871daae9b9c485685f5034038193843", "IPY_MODEL_9846d637c7604de787e5b20be28f98ca", "IPY_MODEL_5c9c07fabff7430aa3d678c6b0a45c1b", "IPY_MODEL_8ed3f10f32a24e5fb746588f98022dfd", "IPY_MODEL_90c42eacaa704adea29b483494b0f39c", "IPY_MODEL_8a8dedd1980645d79be15f1d693e4f65", "IPY_MODEL_899be9359fbf416f9011a8c0fa7250b0"], "layout": "IPY_MODEL_9688eb6df64b48d7b983de28325c2e0a"}}, "3f52edc911884c9880cd5a4ecfbfb154": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "4162318cd8ce4874ad7342a786fae1f1": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "42fef4dc2abe49e19d391cf05b17ec41": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "44ef7271ccbc40beabf4a27057cf4278": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "453e76e63ad94642961a77f1d9c01da2": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "56398a209efb4aa19d57047a4ede4db0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d2beb27da71e43f5863528dec1a2ec91", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_f12ee83e1f6f4fb285bf09614bcac862", "value": 0.7}}, "5841dd679f9740de84c9cbf42c8cc9ae": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5c9c07fabff7430aa3d678c6b0a45c1b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth Seeking:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_4162318cd8ce4874ad7342a786fae1f1", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_0d24fa6d9de745d3b40ca652690cc066", "value": 0.1}}, "5d700e8250294ef282f5e74d49eb15c1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "button_color": null, "font_weight": ""}}, "62a767eb0da04791a62caad8562e20bf": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "62f5e3f185524659837cedd6b766b336": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Conf:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_75f342a4f751472ea16a00c7f0cde443", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_e7717da338034172b41f28b9aed5c44a", "value": 0.05}}, "67e0671ee52047978c156673de193899": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "6d2b531f5b204f079dbfd82dc11644e9": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6f0d9ba2bc9e41b7b3f6a6169619f196": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "75f342a4f751472ea16a00c7f0cde443": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "78752703cb15475e87542a0fd576ff92": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "78c78f6e2b7d433787f2175db2deeaf4": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_0d1d1a64a1d04684b1c487c8c6516946", "msg_id": "", "outputs": []}}, "78e05fac8be04b358c631b8794170ac5": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "7d38b1460cef4f64a31aad0d40af93a1": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "81787b24a4d947489e0e7598972b608f": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DropdownModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DropdownModel", "_options_labels": ["Linear", "Geometric", "Multiplicative"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "DropdownView", "description": "Pooling Method: ", "description_tooltip": null, "disabled": false, "index": 0, "layout": "IPY_MODEL_e2458189fa654e1580250a55e5e13c16", "style": "IPY_MODEL_a44ff7cea44d460599d54933f99c6e99"}}, "85a9860eb84d46a5b6eb15fad48359ce": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "899be9359fbf416f9011a8c0fa7250b0": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_78752703cb15475e87542a0fd576ff92", "msg_id": "", "outputs": []}}, "8a8dedd1980645d79be15f1d693e4f65": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Run Interact", "disabled": false, "icon": "", "layout": "IPY_MODEL_6f0d9ba2bc9e41b7b3f6a6169619f196", "style": "IPY_MODEL_3f52edc911884c9880cd5a4ecfbfb154", "tooltip": ""}}, "8ed3f10f32a24e5fb746588f98022dfd": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_d475366af5a548b69738df1f0c5a44a4", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_e315ddd4118c422fb37976c73fa0eecb", "value": 0.7}}, "90c42eacaa704adea29b483494b0f39c": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Noise:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0988f2db1cbf4c8ebdd9f8b6cc15beb7", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_62a767eb0da04791a62caad8562e20bf", "value": 0.0}}, "958f2fec15f34045a0dc4601602e9a5d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Experts:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_7d38b1460cef4f64a31aad0d40af93a1", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_67e0671ee52047978c156673de193899", "value": 50}}, "9688eb6df64b48d7b983de28325c2e0a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "9846d637c7604de787e5b20be28f98ca": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Conf:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_a919eb522d1747d0bf6f6b767b6ad830", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_b1955ae6fab84505a31aa5a9e8f24cfa", "value": 0.05}}, "9cc09351b2b44802887dfeeb561d07ab": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "9f023ed7a50a45448684fda9cfcc737e": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "9f3b748848f54095882c13742eb2cf2b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Noise:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_00b4a2ea7b92411e99e3ea9fe8b6d3ff", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_d55686e4108c4d41bc3fa9da1b3585a1", "value": 0.0}}, "a2a59777f3bd4b548125e6ecebcb2446": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "IntSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "IntSliderView", "continuous_update": true, "description": "Num Trials:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_ec9e837bde5b4dcb82df91c8f52a9ef4", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 5, "style": "IPY_MODEL_e5720a16d4af4be1848f4e33652c2aed", "value": 20}}, "a44ff7cea44d460599d54933f99c6e99": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "DescriptionStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "a7fdb870ba90400d9765154bd718a2d3": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "a919eb522d1747d0bf6f6b767b6ad830": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ae4c042ef8bd410488ea7c7dbf20a8a2": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b1955ae6fab84505a31aa5a9e8f24cfa": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "b34e062d6e0f44b0a2fcca18ca5c360b": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Run Interact", "disabled": false, "icon": "", "layout": "IPY_MODEL_44ef7271ccbc40beabf4a27057cf4278", "style": "IPY_MODEL_5d700e8250294ef282f5e74d49eb15c1", "tooltip": ""}}, "b4ccd1da436a44b6ac011c465dd06bf0": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "b8e2ae9d3a9342e1b833c48baa1d4fc9": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth Seeking:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_e586d70064a2474aa606295b686d464b", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_ccfdd66eb9b94a0998526351e36c9943", "value": 0.1}}, "c018480b282d40c3a0d141d0760141b0": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c8cc8fea50e34b15a71b100a6801a30c": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ccfdd66eb9b94a0998526351e36c9943": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "cff010357da74950a81672de11552d3d": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "d2beb27da71e43f5863528dec1a2ec91": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d475366af5a548b69738df1f0c5a44a4": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d55686e4108c4d41bc3fa9da1b3585a1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "d9ee417b1db7424db9a59d3454cd7a50": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "ButtonModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "ButtonView", "button_style": "", "description": "Run Interact", "disabled": false, "icon": "", "layout": "IPY_MODEL_fcb7a7b024034d5cadaf8edccc564d03", "style": "IPY_MODEL_2198a074970a4ee3a586730bc103e9fd", "tooltip": ""}}, "df011d4634ac46af9fa503fe831b39f1": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "e2458189fa654e1580250a55e5e13c16": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e315ddd4118c422fb37976c73fa0eecb": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "e5720a16d4af4be1848f4e33652c2aed": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "e586d70064a2474aa606295b686d464b": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e607259b1dc047dbade2a63d6cff6b16": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e6dba7012ab645beb613b738223abb74": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Noise:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c018480b282d40c3a0d141d0760141b0", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_cff010357da74950a81672de11552d3d", "value": 0.0}}, "e7717da338034172b41f28b9aed5c44a": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "ec9e837bde5b4dcb82df91c8f52a9ef4": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ed9f3e9a0a9f4887becc7c577776ab13": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Conf:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_0b0ce216dcf1413287d5a60e0e26c53a", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_b4ccd1da436a44b6ac011c465dd06bf0", "value": 0.05}}, "f0872abd3ac242b19088176952a17318": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_a2a59777f3bd4b548125e6ecebcb2446", "IPY_MODEL_2848be7009644f2c96fb933ccaaa7465", "IPY_MODEL_ed9f3e9a0a9f4887becc7c577776ab13", "IPY_MODEL_b8e2ae9d3a9342e1b833c48baa1d4fc9", "IPY_MODEL_f75543765926488384efd4b8245fbb31", "IPY_MODEL_e6dba7012ab645beb613b738223abb74", "IPY_MODEL_81787b24a4d947489e0e7598972b608f", "IPY_MODEL_d9ee417b1db7424db9a59d3454cd7a50", "IPY_MODEL_ff019f3ab298414682e4aec67438a931"], "layout": "IPY_MODEL_42fef4dc2abe49e19d391cf05b17ec41"}}, "f08f4c37148444efa725712d996d1e9f": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth Seeking:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_453e76e63ad94642961a77f1d9c01da2", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_a7fdb870ba90400d9765154bd718a2d3", "value": 0.1}}, "f12ee83e1f6f4fb285bf09614bcac862": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "SliderStyleModel", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "f2e99c7192234d6fb926a4edfe885b18": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f75543765926488384efd4b8245fbb31": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "FloatSliderModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "FloatSliderView", "continuous_update": true, "description": "Truth:", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_c8cc8fea50e34b15a71b100a6801a30c", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.1, "style": "IPY_MODEL_df011d4634ac46af9fa503fe831b39f1", "value": 0.7}}, "fcb7a7b024034d5cadaf8edccc564d03": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fcc63b4a88474fe092d7a916a478754f": {"model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "model_name": "VBoxModel", "state": {"_dom_classes": ["widget-interact"], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_1a3d22324bd34e20bcaff3ff9ffee328", "IPY_MODEL_958f2fec15f34045a0dc4601602e9a5d", "IPY_MODEL_62f5e3f185524659837cedd6b766b336", "IPY_MODEL_f08f4c37148444efa725712d996d1e9f", "IPY_MODEL_56398a209efb4aa19d57047a4ede4db0", "IPY_MODEL_9f3b748848f54095882c13742eb2cf2b", "IPY_MODEL_b34e062d6e0f44b0a2fcca18ca5c360b", "IPY_MODEL_78c78f6e2b7d433787f2175db2deeaf4"], "layout": "IPY_MODEL_5841dd679f9740de84c9cbf42c8cc9ae"}}, "ff019f3ab298414682e4aec67438a931": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_ae4c042ef8bd410488ea7c7dbf20a8a2", "msg_id": "", "outputs": []}}}, "version_major": 2, "version_minor": 0}
</script>


    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./course-content/opinion-dynamics"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Eric Pacuit<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>